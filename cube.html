<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <!-- <script src="cube.js"></script> -->
    <title>ARサンプル</title>
</head>
<style>
    .view {
        visibility: visible;
    }

    .nonview {
        visibility: hidden;
    }
</style>

<body style="margin:0px; overflow:hidden;">
    <!-- A-Frame ライブラリの読み込み -->
    <script src="https://aframe.io/releases/1.1.0/aframe.min.js"></script>
    <!-- AR.js ライブラリの読み込み -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>

    <!-- A-Frame の VR空間に AR.js を紐づける（デバッグUIを非表示） -->
    <a-scene embedded arjs="debugUIEnabled:false;">

        <!-- マーカーを登録（プリセットされている「hiro」マーカー） -->
        <a-marker preset="hiro">
            <!-- マーカーの場所に箱を置く（見やすいようにワイヤーフレーム表示） -->
            <!-- <a-box id="cube" color="red" position="0 0.5 0" wireframe="false"></a-box> -->
            <a-box id="cube" class="view" position="0 0.5 0" material="color: red; transparent: true; opacity: 0.50;"
                style="visibility:visible">
            </a-box>
            <a-sphere id="sphere" class="nonview" position="0 0.5 0"
                material="color: blue; transparent: true; opacity: 0.50;" style="visibility:hidden">
            </a-sphere>
            <!-- <a-cylinder id="cylinder" color="#060" radius=".5" height="3" position="0 0 -3" rotation="20 20 0"> -->
            <a-cylinder id="cylinder" class="nonview" position="0 1.5 0" rotation="20 20 0" radius="0.5" height="3"
                material="color: green; transparent: true; opacity: 0.50;" style="visibility:hidden">
            </a-cylinder>

        </a-marker>

        <!-- AR用のカメラを置く -->
        <a-entity camera></a-entity>

    </a-scene>

    <div style="position: fixed; bottom: 150px;">
        <input type="button" id="b1" value="change" onclick="modelChange('#cube');"><br>
        <input type="button" id="b2" value="change" onclick="modelChange('#sphere');"><br>
        <input type="button" id="b3" value="change" onclick="modelChange('#cylinder');"><br>
        <!-- <input type="button" id="b4" value="change" onclick="click1();"> -->
    </div>

    <script>
        function click1() {

            console.log("click1");

            // Entityを取得
            var el = document.querySelector('#cube');
            console.log(el.getAttribute('visible'));

            // 表示中の場合
            if (el.getAttribute('visible')) {
                // 非表示に切り替え
                el.setAttribute('visible', false);
            } else {
                // 表示に切り替え
                el.setAttribute('visible', true);
            }
        }
        function modelChange(model) {

            var $id = model;
            console.log($id);

            var el;
            el = document.querySelector('#cube');
            el.setAttribute('visible', false);
            el = document.querySelector('#sphere');
            el.setAttribute('visible', false);
            el = document.querySelector('#cylinder');
            el.setAttribute('visible', false);

            el = document.querySelector($id);
            el.setAttribute('visible', true);
        }
        function modelSet() {
            console.log(1);
            var el;
            el = document.querySelector('#cube');
            el.setAttribute('visible', true);
            el = document.querySelector('#sphere');
            el.setAttribute('visible', false);
            el = document.querySelector('#cylinder');
            el.setAttribute('visible', false);
        }
    </script>

    <script>
        modelSet();
    </script>
</body>

</html>